{
  "name": "k8s-in-codespaces",
  "image": "mcr.microsoft.com/devcontainers/base:ubuntu",
  "features": {
    "ghcr.io/devcontainers/features/docker-outside-of-docker:1": {},
    "ghcr.io/devcontainers/features/kubectl-helm-minikube:1": {
      "kubectl": "latest",
      "helm": "latest",
      "minikube": "none"
    }
  },
  "postCreateCommand": "curl -s https://raw.githubusercontent.com/k3d-io/k3d/main/install.sh | bash",
  "postStartCommand": "bash -c 'k3d cluster delete dev || true && k3d cluster create dev --servers 1 --agents 0 && sleep 10 && k3d node create nodo-reggaeton --role agent --cluster dev && k3d node create nodo-rock --role agent --cluster dev && k3d node create nodo-techno --role agent --cluster dev && k3d node create nodo-salsa --role agent --cluster dev && sleep 10 && kubectl get nodes'"

}
